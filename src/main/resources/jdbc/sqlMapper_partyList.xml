<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="partyDuo.com.mapper.PartyListMapper">
	<insert id="insertOK">
		insert into partylist(party_id,member_id,party_join) 
		values(#{party_id},#{member_id},#{party_join})
	</insert>
	
	<update id="updateOK">
		update partylist set member_id=#{member_id},party_join=#{party_join} where party_id=#{party_id}
	</update>
	
	<delete id="deleteOK">
		delete from partylist where party_id=#{party_id} and member_id=#{member_id}
	</delete>
	
	<select id="searchListPageBlock"
		resultType="partyDuo.com.model.PartyListVO">
		select * from partylist where #{searchKey} like #{searchWord} order by party_id
	 desc limit #{startRow}, #{pageBlock}
	</select>
	
	<select id="searchList"
		resultType="partyDuo.com.model.PartyListVO">
		select * from partylist where #{searchKey} like #{searchWord} order by party_id desc 
	</select>
	
	<select id="selectOne"
		resultType="partyDuo.com.model.PartyListVO">
		select * from partylist where party_id=#{party_id}
	</select>
	
	<select id="getTotalRows" resultType="int">
		select count(*) total_rows
		from partylist
	</select>
	
	<select id="getSearchTotalRows" resultType="int">
		select count(*) total_rows
		from partylist where #{searchKey} like #{searchWord} 
	</select>
</mapper>
